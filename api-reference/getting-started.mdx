title: Getting Started with the Videograph API
description: "Make your first calls to the Videograph API with step-by-step examples using HTTP Basic Auth."
---

The Videograph API lets you manage videos, livestreams, uploads, clips, subtitles, thumbnails, and signing keys. This guide shows how to authenticate and make your first API calls.

## Before You Start

Make sure you have:
- [ ] **API access token and secret** - Generate from the Videograph dashboard for your environment
- [ ] **Base URL** - All requests go to `https://api.videograph.ai`
- [ ] **HTTP client** - Use cURL, Postman, or your preferred programming language
- [ ] **Basic authentication** - Review our [authentication guide](authentication) if needed

<Callout kind="info">
  **New to APIs?** This guide assumes basic familiarity with REST APIs and HTTP methods. Check out our [API basics tutorial](api-basics) if you're just getting started.
</Callout>

## Your First API Call (List Contents)

Let's start by listing contents in your environment:

<CodeGroup tabs="cURL,JavaScript,Python,Go">
```bash
curl -X GET "https://api.videograph.ai/video/services/api/v1/contents" \
  -u "ACCESS_TOKEN:SECRET" \
  -H "Accept: application/json"
```

```javascript
const baseUrl = 'https://api.videograph.ai';
const basic = btoa(`${process.env.VG_ACCESS_TOKEN}:${process.env.VG_SECRET}`);

const response = await fetch(`${baseUrl}/video/services/api/v1/contents`, {
  headers: {
    'Authorization': `Basic ${basic}`,
    'Accept': 'application/json'
  }
});

const result = await response.json();
console.log('Contents:', result);
```

```python
import os
import requests
from requests.auth import HTTPBasicAuth

resp = requests.get(
  'https://api.videograph.ai/video/services/api/v1/contents',
  headers={'Accept': 'application/json'},
  auth=HTTPBasicAuth(os.getenv('VG_ACCESS_TOKEN'), os.getenv('VG_SECRET'))
)

print('Status:', resp.status_code)
print(resp.json())
```

```go
package main

import (
    "fmt"
    "io"
    "net/http"
    "os"
)

func main() {
    client := &http.Client{}
    req, _ := http.NewRequest("GET", "https://api.videograph.ai/video/services/api/v1/contents", nil)
    req.Header.Add("Accept", "application/json")
    req.SetBasicAuth(os.Getenv("VG_ACCESS_TOKEN"), os.Getenv("VG_SECRET"))

    resp, err := client.Do(req)
    if err != nil {
        fmt.Printf("Error: %v\n", err)
        return
    }
    defer resp.Body.Close()

    body, _ := io.ReadAll(resp.Body)
    fmt.Printf("Response: %s\n", body)
}
```
</CodeGroup>

**Expected response (example)**:
```json
{
  "code": 200,
  "data": [
    {
      "contentId": "80e05adf-3d5c-4f10-81b7-a9227587b9ca",
      "title": "Sample Video",
      "status": "Ready",
      "playbackUrl": "https://.../master.m3u8"
    }
  ],
  "message": "Fetched all video assets in the environment.",
  "status": "Success"
}
```

<Callout kind="success">
  **Success!** If you received a response with pet data, your authentication is working correctly and you're ready to explore more endpoints.
</Callout>

## Common API Workflows

### 1. Create Content (from URL)

Create a content (video/audio) from a public URL:

<ExpandableGroup>
<Expandable title="Basic Pet Creation" default-open="true">

**Endpoint**: `POST /video/services/api/v1/contents`

**Body schema**: `CreateContent` (see API reference)

<CodeGroup tabs="JavaScript,Python,cURL">
```javascript
import { HTTPBasicAuth } from 'some-auth-lib'; // or build header manually

const body = {
  title: 'Demo Video',
  description: 'This is a demo video',
  content: [ { url: 'https://d19nx8bm4jzw4h.cloudfront.net/Tears-of-steel.mp4' } ],
  subtitle: [
    { url: 'https://d19nx8bm4jzw4h.cloudfront.net/Tears-of-steel.srt', name: 'English US', language_code: 'en_US', support_closed_captions: false }
  ],
  watermark: [
    { url: 'https://d19nx8bm4jzw4h.cloudfront.net/videograph_logo.png', x_pos: '1564px', y_pos: '74px', opacity: '70%' }
  ],
  tags: ['Animation', 'Video demo'],
  metadata: [ { key: 'color', value: 'blue' } ],
  playback_policy: ['public'],
  mp4_support: true,
  save_original_copy: false
};

const basic = btoa(`${process.env.VG_ACCESS_TOKEN}:${process.env.VG_SECRET}`);
const resp = await fetch('https://api.videograph.ai/video/services/api/v1/contents', {
  method: 'POST',
  headers: {
    'Authorization': `Basic ${basic}`,
    'Content-Type': 'application/json',
    'Accept': 'application/json'
  },
  body: JSON.stringify(body)
});
const created = await resp.json();
console.log('Create content response:', created);
```

```python
import os
import requests
from requests.auth import HTTPBasicAuth

payload = {
  "title": "Demo Video",
  "description": "This is a demo video",
  "content": [ { "url": "https://d19nx8bm4jzw4h.cloudfront.net/Tears-of-steel.mp4" } ],
  "subtitle": [ { "url": "https://d19nx8bm4jzw4h.cloudfront.net/Tears-of-steel.srt", "name": "English US", "language_code": "en_US", "support_closed_captions": False } ],
  "watermark": [ { "url": "https://d19nx8bm4jzw4h.cloudfront.net/videograph_logo.png", "x_pos": "1564px", "y_pos": "74px", "opacity": "70%" } ],
  "tags": ["Animation", "Video demo"],
  "metadata": [ { "key": "color", "value": "blue" } ],
  "playback_policy": ["public"],
  "mp4_support": True,
  "save_original_copy": False
}

r = requests.post(
  'https://api.videograph.ai/video/services/api/v1/contents',
  json=payload,
  headers={'Accept': 'application/json'},
  auth=HTTPBasicAuth(os.getenv('VG_ACCESS_TOKEN'), os.getenv('VG_SECRET'))
)
print(r.status_code)
print(r.json())
```

```bash
curl -X POST "https://api.videograph.ai/video/services/api/v1/contents" \
  -u "ACCESS_TOKEN:SECRET" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{
    "title": "Demo Video",
    "description": "This is a demo video",
    "content": [ { "url": "https://d19nx8bm4jzw4h.cloudfront.net/Tears-of-steel.mp4" } ],
    "watermark": [ { "url": "https://d19nx8bm4jzw4h.cloudfront.net/videograph_logo.png", "x_pos": "1564px", "y_pos": "74px", "opacity": "70%" } ],
    "subtitle": [ { "url": "https://d19nx8bm4jzw4h.cloudfront.net/Tears-of-steel.srt", "name": "English US", "language_code": "en_US", "support_closed_captions": false } ],
    "tags": ["Animation", "Video demo"],
    "metadata": [ { "key": "color", "value": "blue" } ],
    "playback_policy": ["public"],
    "mp4_support": true,
    "save_original_copy": false
  }'
```
</CodeGroup>

**Successful response** (Status 201):
```json
{
  "id": 123,
  "name": "Max",
  "category": {
    "id": 1,
    "name": "Dogs"
  },
  "status": "available",
  "age": 2,
  "breed": "Labrador",
  "description": "Friendly and energetic dog, great with kids",
  "photoUrls": [],
  "tags": [],
  "createdAt": "2024-01-15T10:30:00Z",
  "updatedAt": "2024-01-15T10:30:00Z"
}
```

</Expandable>

<Expandable title="Pet with Photos and Tags" default-open="false">

Create a more detailed pet entry with photos and tags:

```javascript
const detailedPet = {
  name: "Luna",
  categoryId: 2, // Cats category
  status: "available",
  age: 1,
  breed: "Siamese",
  description: "Beautiful blue-eyed Siamese kitten",
  photoUrls: [
    "https://images.acme.com/cats/luna1.jpg",
    "https://images.acme.com/cats/luna2.jpg"
  ],
  tags: [
    { name: "playful" },
    { name: "indoor" },
    { name: "vaccinated" }
  ]
};

const response = await fetch('https://api.acme.com/v1/pets', {
  method: 'POST',
  headers: {
    'X-API-Key': 'YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(detailedPet)
});
```

**Pro tips for pet creation**:
- **Use descriptive names** that help identify the pet
- **Include photos** to increase adoption chances
- **Add relevant tags** for better searchability
- **Provide accurate breed** and age information
- **Write engaging descriptions** that highlight personality

</Expandable>
</ExpandableGroup>

### 2. Get Paginated Contents

Fetch contents with pagination and filters:

<ExpandableGroup>
<Expandable title="Filter by Status and Category" default-open="true">

**Available query parameters**:
- `status` - Filter by availability (`available`, `pending`, `sold`)
- `category` - Filter by category name
- `limit` - Number of results (default: 20, max: 100)
- `offset` - Skip results for pagination

<CodeGroup tabs="Available Dogs,Pending Adoptions,Recently Added">
```javascript
const baseUrl = 'https://api.videograph.ai';
const basic = btoa(`${process.env.VG_ACCESS_TOKEN}:${process.env.VG_SECRET}`);

const pageSize = 10;
const pageNum = 1;

const response = await fetch(
  `${baseUrl}/video/services/api/v1/contents/paginated?pageSize=${pageSize}&pageNum=${pageNum}`,
  { headers: { 'Authorization': `Basic ${basic}`, 'Accept': 'application/json' } }
);

const paged = await response.json();
console.log('Total contents:', paged.data.total);
console.log('Items on page:', paged.data.contents.length);
```
</CodeGroup>

</Expandable>

<Expandable title="Pagination for Large Results" default-open="false">

Handle large datasets with proper pagination:

```javascript
async function getAllAvailablePets() {
  const allPets = [];
  let offset = 0;
  const limit = 50; // Reasonable batch size
  let hasMore = true;

  while (hasMore) {
    const response = await fetch(
      `https://api.acme.com/v1/pets?status=available&limit=${limit}&offset=${offset}`,
      {
        headers: {
          'X-API-Key': 'YOUR_API_KEY',
          'Content-Type': 'application/json'
        }
      }
    );

    const data = await response.json();
    allPets.push(...data.pets);
    
    hasMore = data.pagination.hasMore;
    offset += limit;
    
    console.log(`Fetched ${data.pets.length} pets, total so far: ${allPets.length}`);
  }

  return allPets;
}

// Usage
const allAvailablePets = await getAllAvailablePets();
console.log(`Total available pets: ${allAvailablePets.length}`);
```

**Performance tips**:
- Use reasonable batch sizes (20-50 items)
- Implement loading states in your UI
- Consider caching results for repeated queries
- Use `hasMore` to determine if more pages exist

</Expandable>
</ExpandableGroup>

### 3. Update Content Details

Modify a content’s metadata or title:

<ExpandableGroup>
<Expandable title="Update Pet Status" default-open="true">

**Endpoint**: `PUT /video/services/api/v1/contents/{CONTENT_ID}`

Common status updates:
- `available` → `pending` (adoption in progress)
- `pending` → `sold` (adoption completed)
- `sold` → `available` (returned to store)

```javascript
async function updateContent(contentId, updates) {
  const basic = btoa(`${process.env.VG_ACCESS_TOKEN}:${process.env.VG_SECRET}`);
  const response = await fetch(`https://api.videograph.ai/video/services/api/v1/contents/${contentId}`, {
    method: 'PUT',
    headers: {
      'Authorization': `Basic ${basic}`,
      'Content-Type': 'application/json',
      'Accept': 'application/json'
    },
    body: JSON.stringify(updates)
  });
  if (!response.ok) throw new Error(`Failed: ${response.status}`);
  return response.json();
}

await updateContent('CONTENT_UUID', { title: 'New Title' });
```

</Expandable>

<Expandable title="Complete Pet Information Update" default-open="false">

Update multiple fields at once:

```javascript
async function updatePetDetails(petId, updates) {
  // Only include fields that are being updated
  const updateData = {};
  
  if (updates.name) updateData.name = updates.name;
  if (updates.age) updateData.age = updates.age;
  if (updates.description) updateData.description = updates.description;
  if (updates.status) updateData.status = updates.status;
  if (updates.photoUrls) updateData.photoUrls = updates.photoUrls;

  const response = await fetch(`https://api.acme.com/v1/pets/${petId}`, {
    method: 'PUT',
    headers: {
      'X-API-Key': 'YOUR_API_KEY',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(updateData)
  });

  return response.json();
}

// Example: Update pet description and add photos
const updatedPet = await updatePetDetails(123, {
  description: "Updated: Very friendly dog, loves playing fetch and swimming",
  photoUrls: [
    "https://images.acme.com/pets/123/action1.jpg",
    "https://images.acme.com/pets/123/portrait.jpg"
  ]
});

console.log('Pet updated:', updatedPet);
```

</Expandable>
</ExpandableGroup>

### 4. Direct Uploads (Create Upload URL)

Create a direct upload and get a signed URL:

<ExpandableGroup>
<Expandable title="List All Categories" default-open="true">

**Endpoint**: `POST /video/services/api/v1/uploads`

```javascript
const basic = btoa(`${process.env.VG_ACCESS_TOKEN}:${process.env.VG_SECRET}`);
const resp = await fetch('https://api.videograph.ai/video/services/api/v1/uploads', {
  method: 'POST',
  headers: {
    'Authorization': `Basic ${basic}`,
    'Content-Type': 'application/json',
    'Accept': 'application/json'
  },
  body: JSON.stringify({
    file_name: 'my-upload.mp4',
    content: {
      title: 'Direct Upload Demo',
      playback_policy: ['public']
    }
  })
});
const uploadInit = await resp.json();
console.log(uploadInit);
```

**Expected response**:
```json
{
  "categories": [
    {
      "id": 1,
      "name": "Dogs",
      "description": "All types of dogs"
    },
    {
      "id": 2, 
      "name": "Cats",
      "description": "All types of cats"
    },
    {
      "id": 3,
      "name": "Birds",
      "description": "All types of birds"
    }
  ]
}
```

</Expandable>

<Expandable title="Create New Category" default-open="false">

**Endpoint**: `POST /categories`

```javascript
const newCategory = {
  name: "Reptiles",
  description: "Snakes, lizards, turtles, and other reptiles"
};

const response = await fetch('https://api.acme.com/v1/categories', {
  method: 'POST',
  headers: {
    'X-API-Key': 'YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(newCategory)
});

const createdCategory = await response.json();
console.log('New category created:', createdCategory);

// Now you can use this category ID when creating pets
const newSnake = {
  name: "Slither",
  categoryId: createdCategory.id,
  status: "available",
  breed: "Ball Python"
};
```

</Expandable>
</ExpandableGroup>

## Clips, Subtitles, Thumbnails

### Create a Clip from Content

**Endpoint**: `POST /video/services/api/v1/contents/{CONTENT_ID}/clips`

<CodeGroup tabs="JavaScript,Python,cURL">
```javascript
const basic = btoa(`${process.env.VG_ACCESS_TOKEN}:${process.env.VG_SECRET}`);
const res = await fetch('https://api.videograph.ai/video/services/api/v1/contents/CONTENT_UUID/clips', {
  method: 'POST',
  headers: { 'Authorization': `Basic ${basic}`, 'Content-Type': 'application/json', 'Accept': 'application/json' },
  body: JSON.stringify({ title: 'Highlight', startTimeInSecs: 5, endTimeInSecs: 25 })
});
console.log(await res.json());
```

```python
import os
import requests
from requests.auth import HTTPBasicAuth

payload = {"title": "Highlight", "startTimeInSecs": 5, "endTimeInSecs": 25}
r = requests.post(
  'https://api.videograph.ai/video/services/api/v1/contents/CONTENT_UUID/clips',
  json=payload,
  headers={'Accept': 'application/json'},
  auth=HTTPBasicAuth(os.getenv('VG_ACCESS_TOKEN'), os.getenv('VG_SECRET'))
)
print(r.json())
```

```bash
curl -X POST "https://api.videograph.ai/video/services/api/v1/contents/CONTENT_UUID/subtitles" \
  -u "ACCESS_TOKEN:SECRET" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://d133d5ts749j6w.cloudfront.net/ane/HSHM2586532201040000_ACTA_HD.scc",
    "name": "English US",
    "language_code": "en_US",
    "support_closed_captions": false
  }'
```
</CodeGroup>

### Generate Thumbnail

```bash
curl -X POST "https://api.videograph.ai/video/services/api/v1/contents/CONTENT_UUID/thumbnails" \
  -u "ACCESS_TOKEN:SECRET" \
  -H "Content-Type: application/json" \
  -d '{
    "videoPositionInSec": 10,
    "width": 640,
    "height": 360
  }'
```

<Callout kind="tip">
  **Image requirements**: JPG, PNG, or GIF formats up to 5MB. Images are automatically resized to optimize loading times while maintaining quality.
</Callout>

## Error Handling Best Practices

### Robust Error Handling Pattern

```javascript
class VideographAPI {
  constructor(apiKey) {
    this.apiKey = apiKey; // unused in Basic Auth example; keep if you wrap both styles
    this.baseUrl = 'https://api.videograph.ai';
  }

  async request(endpoint, options = {}) {
    const url = `${this.baseUrl}${endpoint}`;
    
    const response = await fetch(url, {
      ...options,
      headers: {
        'Authorization': `Basic ${btoa(`${process.env.VG_ACCESS_TOKEN}:${process.env.VG_SECRET}`)}`,
        'Content-Type': 'application/json',
        ...options.headers
      }
    });

    // Handle different error types
    if (!response.ok) {
      await this.handleError(response);
    }

    return response.json();
  }

  async handleError(response) {
    const errorData = await response.json();
    
    switch (response.status) {
      case 400:
        throw new Error(`Bad Request: ${errorData.message}`);
      case 401:
        throw new Error('Unauthorized: Check your access token/secret');
      case 404:
        throw new Error(`Not Found: ${errorData.message}`);
      case 429:
        const retryAfter = response.headers.get('Retry-After') || 60;
        throw new Error(`Rate limited. Try again in ${retryAfter} seconds`);
      case 500:
        throw new Error('Server error. Please try again later');
      default:
        throw new Error(`API Error (${response.status}): ${errorData.message}`);
    }
  }

  // Convenience methods
  async listContents(params = {}) {
    const query = new URLSearchParams(params).toString();
    return this.request(`/video/services/api/v1/contents${query ? `?${query}` : ''}`);
  }

  async getContent(id) {
    return this.request(`/video/services/api/v1/contents/${id}`);
  }

  async createContent(contentData) {
    return this.request('/video/services/api/v1/contents', {
      method: 'POST',
      body: JSON.stringify(contentData)
    });
  }

  async updateContent(id, updates) {
    return this.request(`/video/services/api/v1/contents/${id}`, {
      method: 'PUT',
      body: JSON.stringify(updates)
    });
  }
}

// Usage
const api = new VideographAPI('');

try {
  const contents = await api.listContents({});
  console.log('Contents:', contents);
} catch (error) {
  console.error('Error fetching pets:', error.message);
}
```

## Rate Limits and Optimization

### Understanding Rate Limits

The ACME Company API enforces the following rate limits:

| Authentication | Requests per Hour | Burst Limit |
|---------------|-------------------|-------------|
| **API Key** | 1,000 | 100 per minute |
| **JWT Token** | 5,000 | 300 per minute |
| **Unauthenticated** | 100 | 20 per minute |

**Rate limit headers** in responses:
```
X-RateLimit-Limit: 1000
X-RateLimit-Remaining: 999
X-RateLimit-Reset: 1642694400
```

### Optimization Strategies

<ExpandableGroup>
<Expandable title="Request Batching and Caching" default-open="true">

```javascript
class OptimizedPetStoreAPI extends PetStoreAPI {
  constructor(apiKey) {
    super(apiKey);
    this.cache = new Map();
    this.cacheTimeout = 5 * 60 * 1000; // 5 minutes
  }

  // Cache frequently accessed data
  async getCachedPet(id) {
    const cacheKey = `pet_${id}`;
    const cached = this.cache.get(cacheKey);
    
    if (cached && Date.now() - cached.timestamp < this.cacheTimeout) {
      return cached.data;
    }

    const pet = await this.getPet(id);
    this.cache.set(cacheKey, {
      data: pet,
      timestamp: Date.now()
    });

    return pet;
  }

  // Batch multiple pet requests
  async getMultiplePets(ids) {
    const promises = ids.map(id => this.getCachedPet(id));
    return Promise.all(promises);
  }

  // Intelligent pagination
  async getAllPetsInCategory(categoryName, batchSize = 50) {
    const allPets = [];
    let offset = 0;
    let hasMore = true;

    while (hasMore) {
      const result = await this.getPets({
        category: categoryName,
        limit: batchSize,
        offset: offset
      });

      allPets.push(...result.pets);
      hasMore = result.pagination.hasMore;
      offset += batchSize;

      // Add small delay to be respectful of rate limits
      if (hasMore) {
        await new Promise(resolve => setTimeout(resolve, 100));
      }
    }

    return allPets;
  }
}
```

</Expandable>

<Expandable title="Retry Logic with Exponential Backoff" default-open="false">

```javascript
async function requestWithRetry(requestFn, maxRetries = 3) {
  for (let attempt = 1; attempt <= maxRetries; attempt++) {
    try {
      return await requestFn();
    } catch (error) {
      // Don't retry on client errors (4xx)
      if (error.message.includes('400') || error.message.includes('401')) {
        throw error;
      }

      // Retry on rate limits and server errors
      if (attempt < maxRetries) {
        const delay = Math.pow(2, attempt) * 1000; // Exponential backoff
        console.log(`Request failed, retrying in ${delay}ms... (attempt ${attempt})`);
        await new Promise(resolve => setTimeout(resolve, delay));
      } else {
        throw error;
      }
    }
  }
}

// Usage
const pets = await requestWithRetry(() => 
  api.getPets({ status: 'available' })
);
```

</Expandable>
</ExpandableGroup>

## Next Steps

<Callout kind="success">
  **Great job!** You've learned the fundamentals of the ACME Company API. You can now create, read, update, and manage pets and categories.
</Callout>

### Explore More Features

- **[Complete API Reference](petstore-openapi.yaml)** - Explore all available endpoints and parameters
- **[Authentication Guide](authentication)** - Learn about JWT tokens and advanced security
- **[Webhooks](webhooks)** - Get real-time notifications for pet updates
- **[SDKs and Libraries](sdks)** - Official libraries for popular programming languages

### Common Next Steps

1. **Build a pet listing application** with search and filtering
2. **Implement user authentication** for customer accounts
3. **Add real-time updates** with webhooks
4. **Create an admin dashboard** for pet management
5. **Integrate with payment systems** for adoption fees

### Get Help

- **[API Support Forum](https://community.acme.com)** - Ask questions and share solutions
- **[Contact Support](mailto:api-support@acme.com)** - Get direct help from our team
- **[Status Page](https://status.acme.com)** - Monitor API uptime and incidents
- **[Changelog](changelog)** - Stay updated on API changes and new features
